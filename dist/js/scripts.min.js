let pokemonRepository=function(){let e=[],t=()=>fetch("https://pokeapi.co/api/v2/pokemon/?limit=200").then(e=>e.json()).then(e=>{e.results.forEach(e=>{a({name:e.name,detailsUrl:e.url})})}).catch(e=>console.error(e)),l=e=>fetch(e.detailsUrl).then(e=>e.json()).then(t=>{e.imageUrl=t.sprites.other.dream_world.front_default,e.height=t.height,e.weight=t.weight;let l=t.types;e.types=l.map(e=>e.type.name)}).catch(e=>console.error(e)),a=t=>{var l,a;t.constructor===Object&&!0===(a=["name","detailsUrl"],Object.keys(t).every(e=>a.includes(e)))?e.push(t):alert("Only objects and object keys-(name, height, weight, type) are allowed.")},n=e=>{l(e).then(()=>{document.getElementById("modal-container");let t=document.querySelector(".modal-body");t.innerHTML="";document.getElementById("modal-title-text").innerText=e.name.toUpperCase();let l=document.createElement("ul");l.classList.add("col","list-unstyled","ms-5","fs-5");let a=document.createElement("li");a.innerText=`Height: ${e.height} feet`,l.appendChild(a),(a=document.createElement("li")).innerText=`Weight: ${e.weight} lbs`,l.appendChild(a),(a=document.createElement("li")).innerText=`Type: ${e.types}`,l.appendChild(a);let n=document.createElement("img");n.classList.add("col"),n.src=e.imageUrl,t.appendChild(l),t.appendChild(n)})},i=e=>{let t=document.querySelector(".pokemon-list"),l=document.createElement("li");l.classList.add("list-group-item");let a=document.createElement("button");a.innerText=e.name.charAt(0).toUpperCase()+e.name.slice(1),a.classList.add("btn","btn-danger"),a.setAttribute("data-bs-toggle","modal"),a.setAttribute("data-bs-target","#modal-container"),a.setAttribute("style","width: 120px"),l.appendChild(a),t.appendChild(l),a.addEventListener("click",()=>n(e))},s=()=>{let e=document.getElementById("search-input").value.toLowerCase();document.querySelectorAll(".list-group-item").forEach(t=>{let l=t.querySelector(".btn").innerText.toLowerCase(),a=document.querySelector(".pokemon-list");l.includes(e)?(a.classList.add("search-list"),t.style.display="inline-block"):t.style.display="none",e||a.classList.remove("search-list")})};return document.getElementById("search-input").addEventListener("input",()=>s()),{loadList:t,loadDetails:l,add:a,addListItem:i,getAll:()=>e}}();pokemonRepository.loadList().then(()=>{pokemonRepository.getAll().forEach(e=>{pokemonRepository.addListItem(e)})});
